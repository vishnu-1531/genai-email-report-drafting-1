---
config:
  layout: elk
---
flowchart TB
classDef presentation fill:#E8F0FE,stroke:#5F8DFF,stroke-width:1px,color:#1F3A5F;
classDef business fill:#E9F7EF,stroke:#3FA796,stroke-width:1px,color:#1E3D34;
classDef data fill:#FFF3E0,stroke:#F4A261,stroke-width:1px,color:#5A3E1B;
classDef ai fill:#F3E5F5,stroke:#9C27B0,stroke-width:1px,color:#4A148C;
subgraph Presentation["Presentation Layer (React.js with TypeScript UI)"]
    Login["Login/Register"]
    EmailForm["Email Generation Form"]
    ReportForm["Report Generation Form"]
    History["Document History"]
    Admin["Admin Dashboard"]
end
class Login,EmailForm,ReportForm,History,Admin presentation
subgraph Business["Business Layer (Flask API)"]
    Auth["Authentication"]
    Prompt["Prompt Engine"]
    Gemini["Gemini API Client"]
    Validation["Validation"]
    Logging["Audit Logging"]
end
class Auth,Prompt,Gemini,Validation,Logging business
subgraph Data["Data Layer (PostgreSQL)"]
    Users[("Users")]
    Documents[("Generated Documents")]
    Logs[("Audit Logs")]
end
class Users,Documents,Logs data
subgraph AI["AI Service Layer (Google Gemini)"]
    LLM["Gemini LLM"]
end
class LLM ai
Presentation -- REST API --> Business
Business -- ORM / SQL --> Data
Business -- API Calls --> AI
AI -- Generated Content --> Business
